if(/^u/.test(typeof define)){var def={};this.define=function(e,j){def[e]=j()};this.require=function(e){return def[e]}}
define("minifiedUtil",function(){function e(c){return c.substr(0,3)}function j(c){return null!=c?""+c:""}function k(c){return"string"==typeof c}function m(c){return"function"==typeof c}function n(c){return!!c&&"object"==typeof c}function q(c){return"number"==typeof c}function u(c){return n(c)&&!!c.getDay}function h(c){return!0===c||!1===c}function v(c){var a=typeof c;return"object"==a?!(!c||!c.getDay):"string"==a||"number"==a||h(c)}function s(c){return!!c&&null!=c.length&&!k(c)&&!(c&&c.nodeType)&&
!m(c)}function t(c){return c}function D(c){return c+1}function w(c,a,b){return j(c).replace(a,null!=b?b:"")}function R(c){return w(c,/[\\\[\]\/{}()*+?.$|^-]/g,"\\$&")}function N(c){return w(c,/^\s+|\s+$/g)}function A(c,a){for(var b in c)c.hasOwnProperty(b)&&a(b,c[b]);return c}function y(c,a){if(c)for(var b=0;b<c.length;b++)a(c[b],b);return c}function O(c,a){var b=[];y(c,function(c,d){a(c,d)&&b.push(c)});return b}function B(c,a,b){var d=[];c(a,function(c,a){s(c=b(c,a))?y(c,function(c){d.push(c)}):
null!=c&&d.push(c)});return d}function E(c,a){return B(y,c,a)}function F(c){var a=[];A(c,function(c){a.push(c)});return a}function x(c,a){var b=[];y(c,function(c,d){b.push(a(c,d))});return b}function C(c,a,b){var d=a;y(c,function(c,a){d=b(d,c,a)});return d}function G(c,a){if(s(c)){var b=M(a);return f(M(c).sub(0,b.length),b)}return null!=a&&c.substr(0,a.length)==a}function H(c,a){if(s(c)){var b=M(a);return M(c).sub(-b.length).equals(b)||!b.length}return null!=a&&c.substr(c.length-a.length)==a}function W(c){var a=
c.length;return x(c,function(){return c[--a]})}function I(c,a,b){if(!s(c))return[];var d=c.length,f=0>a?d+a:a,g=null==b?d:0<=b?b:d+b;return O(c,function(c,a){return a>=f&&a<g})}function S(c,a){var b={};y(c,function(c){b[c]=a});return b}function a(c,a,b){A(c,function(c,d){if(null==a[c]||!b)a[c]=d});return a}function b(c,a){for(var b=m(a)?a:function(c,b){if(a===c)return b},d,f=0;f<c.length;f++)if(null!=(d=b(c[f],f)))return d}function d(c,a){if(s(c))for(var b=0;b<c.length;b++)if(c[b]==a)return!0;return!1}
function f(c,a){var d=m(c)?c():c,g=m(a)?a():a;if(d==g)return!0;if(null==d||null==g)return!1;if(v(d)||v(g))return u(d)&&u(g)&&d.getTime()==g.getTime();if(s(d))return d.length!=g.length?!1:!b(d,function(c,a){if(!f(c,g[a]))return!0});if(s(g))return!1;var h=F(d),e=h.length,j=0;A(g,function(){j++});return e!=j?!1:!b(h,function(c){if(!f(d[c],g[c]))return!0})}function g(c,a,b){return c.apply(b&&a,x(b||a,t))}function T(c,a,b){return x(c,function(c){return m(c)?g(c,a,b):U})}function V(c,a,b,d){return function(){return g(c,
a,E([b,arguments,d],t))}}function z(c,a){return ba(a,0,0,0,c)}function ba(c,a,b,d,f,g,h){function s(c){var a=c.length;return a>h?s(c.substr(0,a-h))+(g||",")+c.substr(a-h):c}var m=0>c,j=/(\d+)(\.(.*))?/.exec((m?-c:c).toFixed(a));c=j[1];for(d=(d||".")+j[3];c.length<(f||1);)c="0"+c;h&&(c=s(c));return(m?"-":"")+c+(a?b?w(d,/[.,]?0+$/):d:"")}function ca(c,a,b){return null==a||!c?0:60*parseInt(c[a])+parseInt(c[a+1])+b.getTimezoneOffset()}function ga(c,a){c=w(c,/^\?/);if(u(a)){var d,f,g=c,h=a,m={y:["FullYear",
t],M:["Month",D],n:["Month",ha],N:["Month",da],d:["Date",t],m:["Minutes",t],H:["Hours",t],h:["Hours",function(c){return c%12||12}],K:["Hours",D],k:["Hours",function(c){return c%12+1}],s:["Seconds",t],S:["Milliseconds",t],a:["Hours",function(c,a){return(a||ia)[12>c?0:1]}],w:["Day",oa],W:["Day",ja],z:["TimezoneOffset",function(c){if(d)return d;var a=0<c?c:-c;return(0>c?"+":"-")+z(2,Math.floor(a/60))+z(2,a%60)}]};if(f=/^\[(([+-]\d\d)(\d\d))\]\s*(.*)/.exec(c))d=f[1],h=X(a,"minutes",ca(f,2,a)),g=f[4];
return w(g,/(\w)(\1*)(?:\[([^\]]+)\])?/g,function(c,a,b,d){if(a=m[a])c=h["get"+(s(a)?a[0]:a)].call(h),d=d&&d.split(","),c=s(a[1])?(d||a[1])[c]:a[1](c,d),null!=c&&!k(c)&&(c=z(b.length+1,c));return c})}return b(c.split(/\s*\|\s*/),function(c){var b,d;if(b=/^([<>]?)(=?)([^:]*?)\s*:\s*(.*)$/.exec(c)){c=a;var f=parseFloat(b[3]);if(isNaN(f)||!q(c))c=null==c?"null":j(c),f=b[3];if(b[1]){if(!b[2]&&c==f||"<"==b[1]&&c>f||">"==b[1]&&c<f)return null}else if(c!=f)return null;c=b[4]}if(q(a)&&(b=/(?:(0[0.,]*)|(#[#.,]*))(_*)(9*)/.exec(c))){d=
j(b[1])+j(b[2]);var f=j(b[1]).length?w(d,/[.,]/g).length:1,g=w(w(d,/^.*[0#]/),/[^,.]/g),h=j(b[3]).length+j(b[4]).length,s,m;if(d=/([.,])[^.,]+[.,]/.exec(b[0]))s=d[1],m=d[0].length-2;s=ba(a,h,j(b[3]).length,g,f,s,m);m=c;c=b.index;b=j(b[0]).length;return m.substr(0,c)+s+m.substr(c+b)}return c})}function Y(c,a){if(1==arguments.length)return Y(null,c);if(/^\?/.test(c)){if(""==N(a))return null;c=c.substr(1)}var b,d=(b=/[0#]([.,])[_9]/.exec(c))?b[1]:(b=/^[.,]$/.exec(c))?b[0]:".";b=parseFloat(w(w(w(a,","==
d?/\./g:/,/g),d,"."),/^[^\d-]*(-?\d)/,"$1"));return isNaN(b)?U:b}function Z(c){return new Date(c.getTime())}function ea(c,a,b){c["set"+a].call(c,c["get"+a].call(c)+b);return c}function X(c,a,b){return 3>arguments.length?X(new Date,c,a):ea(Z(c),a.charAt(0).toUpperCase()+a.substr(1),b)}function ka(c,a,b){var d=a.getTime(),f=b.getTime(),g=f-d;if(0>g)return-ka(c,b,a);if(a={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5}[c])return g/a;a=c.charAt(0).toUpperCase()+c.substr(1);c=Math.floor(g/{fullYear:31536E6,
month:2628E6,date:864E5}[c]-2);d=ea(new Date(d),a,c);for(g=c;g<1.2*c+4;g++)if(ea(d,a,1).getTime()>f)return g}function fa(c,a,b){var d=/^(([^.]|\.\.)+)\.([^.].*)/.exec(a);if(d){a=w(d[1],/\.\./g,".");var f=c[a];return fa(m(f)?f():f,d[3],b)}a=w(a,/\.\./g,".");f=c[a];return b===U?m(f)?f():f:m(f)?f(b):c[a]=b}function la(c){return w(c,/['"\t\n\r]/g,function(c){return pa[c]})}function ma(c,a){if(aa[c])return aa[c];var b=function(c,a){s(c)?y(c,function(c,b){a.call(value,value,b)}):A(c,function(c,b){a.call(b,
b,c,c)})},d=new Function("obj","each","esc","print","_","with(obj){"+x(c.split(/{{|}}}?/),function(c,a){var b,d,f=c==(d=w(c,/^{/))?"esc(":"";return a%2?(b=/(.*)::(.*)/.exec(d))?"print("+f+'_.formatValue("'+la(b[2])+'",'+b[1]+(f&&")")+"));\n":"print("+f+d+(f&&")")+");\n":'print("'+la(c)+'");\n'}).join("")+"}");return aa[c]=function(c){var f=[];d(c,b,a||t,function(){g(f.push,f,arguments)},M);return f.join("")}}function na(c){return w(c,/[<>'"&]/g,function(c){return"&#"+c.charCodeAt(0)+";"})}function P(c,
a){for(var b=0,d=0;d<c.length;d++){var f=c[d];if(a&&s(f))for(var g=0;g<f.length;g++)this[b++]=f[g];else this[b++]=f}this.length=b;this._=!0}function M(){return new P(arguments,!0)}function Q(c){return function(a,b){return new P(c(this,a,b))}}function K(c){return function(a,b){return c(this,a,b)}}function L(c){return function(a,b,d){return new P(c(a,b,d))}}var U,da="January,February,March,April,May,June,July,August,September,October,November,December".split(/,/),ha=x(da,e),ja="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(/,/),
oa=x(ja,e),ia=["am","pm"],pa={'"':'\\"',"'":"\\'","\n":"\\n","\t":"\\t","\r":"\\r"},aa={},aa={};a({each:K(y),filter:Q(O),collect:Q(E),map:Q(x),reduce:K(C),toObject:K(S),equals:K(f),sub:Q(I),reverse:Q(W),find:K(b),startsWith:K(G),endsWith:K(H),contains:K(d),call:Q(T),array:function(){return x(this,t)},func:function(){var c=this;return function(){return new P(T(c,arguments))}},join:function(c){return x(this,t).join(c)},sort:function(c){return new P(x(this,t).sort(c))},uniq:function(){var c={};return this.filter(function(a){if(c[a])return!1;
c[a]=1;return!0})},intersection:function(c){var a=S(c,1);return this.filter(function(c){var b=a[c];a[c]=0;return b})},tap:function(c){c(this);return this},toString:function(){return"["+this.map(function(c){return k(c)?"'"+w(c,/'/g,"\\'")+"'":c}).join(", ")+"]"}},P.prototype);a({bind:V,partial:function(c,a,b){return V(c,null,a,b)},once:function(c){var a=0;return function(){if(!a++)return g(c,this,arguments)}},nonOp:t,each:y,eachObj:A,toObject:S,filter:L(O),filterObj:function(c,a){var b={};A(c,function(c,
d){a(c,d)&&(b[c]=d)});return b},collect:L(E),collectObj:L(function(c,a){return B(A,c,a)}),map:L(x),mapObj:function(c,a){var b={};A(c,function(c,d){b[c]=a(c,d)});return b},reduce:C,find:b,contains:d,sub:L(I),reverse:L(W),startsWith:G,endsWith:H,equals:f,toString:j,isList:s,isFunction:m,isObject:n,isNumber:q,isBool:h,isDate:u,isValue:v,isString:k,toString:j,prop:fa,escapeRegExp:R,trim:N,dateClone:Z,dateAdd:X,dateDiff:ka,dateMidnight:function(c){c=c||new Date;return new Date(c.getFullYear(),c.getMonth(),
c.getDate())},formatNumber:ba,pad:z,formatValue:ga,parseDate:function(c,a){var d={y:0,M:[1,1],n:[1,ha],N:[1,da],d:2,m:4,H:3,h:3,K:[3,1],k:[3,1],s:5,S:6,a:[3,ia]},f={},g=1,h,m,j;if(/^\?/.test(c)){if(""==N(a))return null;c=c.substr(1)}if(j=/^\[([+-]\d\d)(\d\d)\]\s*(.*)/.exec(c))h=j,c=j[3];if(!(j=RegExp(c.replace(/(.)(\1*)(?:\[([^\]]*)\])?/g,function(c,a,b,d){return/[dmhkyhs]/i.test(a)?(f[g++]=a,c=b.length+1,"(\\d"+(2>c?"+":"{1,"+c+"}")+")"):"z"==a?(m=g,g+=2,"([+-]\\d\\d)(\\d\\d)"):/[Nna]/.test(a)?(f[g++]=
[a,d&&d.split(",")],"([a-zA-Z\u0080\ufffd\u1fff]+)"):/w/i.test(a)?"[a-zA-Z\u0080\ufffd\u1fff]+":/\s/.test(a)?"\\s+":R(c)})).exec(a)))return U;for(var e=[0,0,0,0,0,0,0],n=1;n<g;n++){var T=j[n],v=f[n];if(s(v)){var k=v[0],z=d[k],q=z[0],v=b(v[1]||z[1],function(a,c){return G(T.toLowerCase(),a.toLowerCase())?c:null});if(null==v)return U;e[q]="a"==k?e[q]+12*v:v}else v&&(k=parseInt(T),z=d[v],s(z)?e[z[0]]+=k-z[1]:e[z]+=k)}d=new Date(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);return X(d,"minutes",-ca(h,1,d)-ca(j,
m,d))},parseNumber:Y,keys:L(F),values:L(function(a){var b=[];A(a,function(a,c){b.push(c)});return b}),copyObj:a,coal:function(){return b(arguments,t)},format:function(a,b){return w(a,/{([^,}]*)(,([^}]*))?}/g,function(a,c,d,f){a=""==c?b:fa(b,c);return d?ga(f,a):j(a)})},escapeHtml:na,template:ma,htmlTemlplate:function(a){return ma(a,na)}},M);return{_:M}});var l=!0,p=null,r=!1;if(/^u/.test(typeof define)){var J={};this.define=function(e,j){J[e]=j()};this.require=function(e){return J[e]}}
define("minified",function(){function e(a){return a!=p?""+a:""}function j(a){return"string"==typeof a}function k(a){return"function"==typeof a&&!a.item}function m(a){return a&&a.length!=p&&!j(a)&&!(a&&a.nodeType)&&!k(a)}function n(a,b){for(var d in a)a.hasOwnProperty(d)&&b(d,a[d]);return a}function q(a,b){for(var d=0;a&&d<a.length;d++)b(a[d],d);return a}function u(a,b){var d=[];q(a,function(a,g){b(a,g)&&d.push(a)});return d}function h(a,b){var d=[];q(a,function(a,g){m(a=b(a,g))?q(a,function(a){d.push(a)}):
a!=p&&d.push(a)});return d}function v(a,b){var d=[];n(a,function(a,g){m(a=b(a,g))?q(a,function(a){d.push(a)}):a!=p&&d.push(a)});return d}function s(a,b,d){return e(a).replace(b,d||"")}function t(a){return parseFloat(s(a,/^[^\d-]+/))}function D(a){var b={$position:"absolute",$visibility:"hidden",$display:"block",$height:p},d=a.get(b);a.set(b);b=a.get("$height",l);a.set(d);return b}function w(a){a()}function R(){q(G,w);G=p}function N(a){G?G.push(a):x.setTimeout(a,0)}function A(a,b,d,f){return function(){var g=
B(C.createElement(a));m(b)||"object"!=typeof b?g.add(b):g.set(b).add(d);f&&f(g);return g}}function y(){function a(a,g){b==p&&(b=a,d=g,x.setTimeout(function(){q(f,w)},0))}var b,d=[],f=[],g=a.then=function(a,g){function h(){try{var f=b?a:g;if(k(f)){var e=f.apply(p,d);e&&k(e.then)?e.then(function(a){m(l,[a])},function(a){m(r,[a])}):m(l,[e])}else m(b,d)}catch(s){m(r,[s])}}var m=y();b!=p?x.setTimeout(h,0):f.push(h);return m};a.always=function(a){return g(a,a)};a.error=function(a){return g(0,a)};return a}
function O(a){return S[a]||"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}function B(a,b,d){return k(a)?N(a):new F(E(a,b,d))}function E(a,b,d){function f(a){a=function Y(a){return m(a)?h(a,Y):a}(a);return g?u(a,function(a){for(;a=a.parentNode;){if(a===g)return l;if(d)return r}}):a}var g,e,v,n,k;if(b&&1!=(b=E(b)).length)return h(b,function(b){return E(a,b,d)});g=b&&b[0];if(!j(a))return f(m(a)?a:[a]);if(1<(b=a.split(/\s*,\s*/)).length)return h(b,function(a){return E(a,g,d)});if(b=/(\S+)\s+(.+)$/.exec(a))return E(b[2],
E(b[1],g),d);if(a!=(b=s(a,/^#/)))return f([C.getElementById(b)]);g=g||C;e=(b=/([^.]*)\.?([^.]*)/.exec(a))[1];n=b[2];b=(v=g.getElementsByClassName&&n)?g.getElementsByClassName(n):g.getElementsByTagName(e||"*");if(e=v?e:n)k=RegExp("\\b"+e+"\\b","i"),b=u(b,function(a){return k.test(a[v?"nodeName":"className"])});return g?f(b):b}function F(a){for(var b=this.length=a.length,d=0;d<b;d++)this[d]=a[d]}var x=this,C=document,G=[],H=[],W=x.requestAnimationFrame||function(a){x.setTimeout(a,33)},I=!!C.all&&!G.map,
S={"\t":"\\t","\r":"\\r","\n":"\\n",'"':'\\"',"\\":"\\\\"};n({each:function(a){return q(this,a)},filter:function(a){return new F(u(this,a))},collect:function(a){return new F(h(this,a))},sub:function(a,b){var d=0>a?this.length+a:a,f=0<=b?b:this.length+(b||0);return new F(u(this,function(a,b){return b>=d&&b<f}))},find:function(a){for(var b,d=k(a)?a:function(b,d){if(a===b)return d},f=0;f<this.length;f++)if((b=d(this[f],f))!=p)return b},hasClass:function(a){var b=RegExp("\\b"+a+"\\b");return this.find(function(a){return b.test(a.className)?
a:p})},remove:function(){q(this,function(a){a.parentNode.removeChild(a)})},text:function(){function a(b){var d=b&&b.nodeType;return 1==d?h(b.childNodes,a):5>d?b.data:p}return h(this,a).join("")},get:function(a,b){var d=this,f=d[0];if(f){if(j(a)){var g=s(a,/^[$@]/),e;e="$"==a?f.className:"$$"==a?I?f.style.cssText:f.getAttribute("style"):/\$\$/.test(a)&&("hidden"==f.style.visibility||"none"==f.style.display)?0:"$$fade"==a?isNaN(e=I?t(f.style.filter)/100:t(f.style.opacity))?1:e:"$$slide"==a?d.get("$height"):
/^\$/.test(a)?x.getComputedStyle?x.getComputedStyle(f,p).getPropertyValue(s(g,/[A-Z]/g,function(a){return"-"+a.toLowerCase()})):(f.currentStyle||f.style)[g]:/^@/.test(a)?f.getAttribute(g):f[g];return b?t(e):e}var h={};(m(a)?q:n)(a,function(a){h[a]=d.get(a,b)});return h}},set:function(a,b){var d=this,f;void 0!==b?"$$fade"==a||"$$slide"==a?d.set({$visibility:0<(f=t(b))?"visible":"hidden",$display:"block"}).set("$$fade"==a?I?{$filter:"alpha(opacity = "+100*f+")",$zoom:1}:{$opacity:f}:{$height:/px$/.test(b)?
b:function(a,b,d){return f*(f&&D(B(d)))+"px"},$overflow:"hidden"}):q(d,function(d,f){var e=s(a,/^[@$]/),h=d.className||"",m=/^\$/.test(a)?d.style:d,j=k(b)?b(B(d).get(a),f,d):b;"$"==a?j!=p&&(q(j.split(/\s+/),function(a){var b=s(a,/^[+-]/),d=h;h=s(h,RegExp("\\b"+b+"\\b"));if(/^\+/.test(a)||b==a&&d==h)h+=" "+b}),d.className=s(h,/^\s+|\s+(?=\s|$)/g)):"$$"==a?I?m.cssText=j:j!=p?d.setAttribute("style",j):d.removeAttribute("style"):/^@/.test(a)?j!=p?m.setAttribute(e,j):m.removeAttribute(e):m[e]=j}):j(a)||
k(a)?d.set("$",a):n(a,function(a,b){d.set(a,b)});return d},add:function(a,b){return q(this,function(d,f){var g;(function V(a){m(a)?q(a,V):k(a)?V(a(d,f)):a!=p&&(a=a&&a.nodeType?a:C.createTextNode(a),g?g.parentNode.insertBefore(a,g.nextSibling):b?b(a,d,d.parentNode):d.appendChild(a),g=a)})(a&&a.nodeType&&f?p:a)})},fill:function(a){return q(this,function(a){B(a.childNodes).remove()}).add(a)},addBefore:function(a){return this.add(a,function(a,d,f){f.insertBefore(a,d)})},addAfter:function(a){return this.add(a,
function(a,d,f){f.insertBefore(a,d.nextSibling)})},addFront:function(a){return this.add(a,function(a,d){d.insertBefore(a,d.firstChild)})},replace:function(a){return this.add(a,function(a,d,f){f.replaceChild(a,d)})},clone:function(a){return new F(h(this,function(b){var d=b&&b.nodeType;if(1==d){var f={$:b.className||p,$$:I?b.style.cssText:b.getAttribute("style")};q(b.attributes,function(a){var d=a.name;"id"!=d&&"style"!=d&&"class"!=d&&b.getAttribute(d)&&(f["@"+d]=a.value)});return A(b.tagName,f,B(b.childNodes).clone(),
a)}return 5>d?b.data:p}))},animate:function(a,b,d,f){var g=this,h=[],m=/-?[\d.]+/,j,v=y(),u=k(d)?d:function(a,b,f){return a+f*(b-a)*(d+(1-d)*f*(3-2*f))};f=f||{};f.time=0;f.stop=function(){j();v(r)};b=b||500;d=d||0;q(g,function(b){var d={a:B(b),c:{}};n(d.b=d.a.get(a),function(b,f){var g=a[b];"$$slide"==b&&(g=g*D(d.a)+"px");d.c[b]=/^[+-]=/.test(g)?s(g.substr(2),m,t(f)+t(s(g,/\+?=/))):g});h.push(d)});j=B.loop(function(a){function d(a,b){return/^#/.test(a)?parseInt(6<a.length?a.substr(1+2*b,2):(a=a.charAt(1+
b))+a,16):parseInt(s(a,/[^\d,]+/g).split(",")[b])}f.time=a;a>=b||0>a?(q(h,function(a){a.a.set(a.c)}),j(),f.time=p,v(l,[g])):q(h,function(f){n(f.b,function(g,h){var j="rgb(",v=f.c[g],n=a/b;if(/^#|rgb\(/.test(v))for(var k=0;3>k;k++)j+=Math.round(u(d(h,k),d(v,k),n))+(2>k?",":")");else j=s(v,m,e(u(t(h),t(v),n)));f.a.set(g,j)})})});return v},toggle:function(a,b,d,f){var g=this,h={},e=r,m=/\b(?=\w)/g;return!b?g.toggle(s(a,m,"-"),s(a,m,"+")):g.set(a)&&function(m){m!==e&&(e=m===l||m===r?m:!e,d?g.animate(e?
b:a,h.stop?h.stop()||h.time:d,f,h):g.set(e?b:a))}},on:function(a,b,d,f){return q(this,function(g,h){q(a.split(/\s/),function(a){function e(g){g=g||x.event;if((!b.apply(f?d:g.target,f||d||[g,h])||f)&&a==m)g.stopPropagation&&(g.preventDefault(),g.stopPropagation()),g.returnValue=r,g.cancelBubble=l}var m=s(a,/\|/);(b.M=b.M||[]).push({e:g,h:e,n:m});g.addEventListener?g.addEventListener(m,e,l):g.attachEvent("on"+m,e)})})}},function(a,b){F.prototype[a]=b});n({request:function(a,b,d,f,g,s){var k,q=d,t=0,
u=y();try{k=x.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Msxml2.XMLHTTP.3.0"),d!=p&&(f=f||{},!j(d)&&!(d&&d.nodeType)&&(q=v(d,function Z(a,b){return m(b)?h(b,function(b){return Z(a,b)}):encodeURIComponent(a)+(b!=p?"="+encodeURIComponent(b):"")}).join("&")),/post/i.test(a)?!(d&&d.nodeType)&&!j(d)&&!f["Content-Type"]&&(f["Content-Type"]="application/x-www-form-urlencoded"):(b+="?"+q,q=p)),k.open(a,b,l,g,s),n(f,function(a,b){k.setRequestHeader(a,b)}),k.onreadystatechange=function(){4==k.readyState&&
!t++&&(200==k.status?u(l,[k.responseText,k.responseXML]):u(r,[k.status,k.statusText,k.responseText]))},k.send(q)}catch(w){t||u(r,[0,p,e(w)])}return u},toJSON:function b(d){return d==p?""+d:j(d=d.valueOf())?'"'+s(d,/[\\\"\x00-\x1f\x22\x5c]/g,O)+'"':m(d)?"["+h(d,b).join()+"]":"object"==typeof d?"{"+v(d,function(d,g){return b(d)+":"+b(g)}).join()+"}":e(d)},parseJSON:x.JSON?x.JSON.parse:function(b){b=s(b,/[\x00\xad\u0600-\uffff]/g,O);if(/^[[\],:{}\s]*$/.test(s(s(b,/\\["\\\/bfnrtu]/g),/"[^"\\\n\r]*"|true|false|null|[\d.eE+-]+/g)))return eval("("+
b+")")},ready:N,setCookie:function(b,d,f,g,h,e){C.cookie=b+"="+(e?d:escape(d))+(f?"; expires="+("object"==typeof f?f:new Date((new Date).getTime()+864E5*f)).toUTCString():"")+"; path="+(g?escapeURI(g):"/")+(h?"; domain="+escape(h):"")},getCookie:function(b,d){var f,g=(f=RegExp("(^|;)\\s*"+b+"=([^;]*)").exec(C.cookie))&&f[2];return d?g:g&&unescape(g)},loop:function(b){var d={d:b,f:(new Date).getTime(),b:function(){for(var b=0;b<H.length;b++)H[b]===d&&H.splice(b--,1)}};2>H.push(d)&&function g(){q(H,
function(b){b.d(Math.max(0,(new Date).getTime()-b.f),b.b)}).length&&W(g)}();return d.b},wait:function(b){var d=y();x.setTimeout(function(){d(l,[b])},b||0);return d},off:function(b){q(b.M,function(b){b.e.removeEventListener?b.e.removeEventListener(b.n,b.h,l):b.e.detachEvent("on"+b.n,b.h)});b.M=p}},function(b,d){B[b]=d});x.onload=R;C.addEventListener&&C.addEventListener("DOMContentLoaded",R,r);return{$:B,$$:function(b){return E(b)[0]},EE:A}});var _=require("minifiedUtil")._;
function parseSourceSections(e){function j(){return{id:"anon"+k++,src:[],desc:"",requires:{},requiredBy:{},syntax:[],example:[],params:[]}}e=e.split("\n");var k=100,m=[],n=j(),q=!1;_.each(e,function(e){if(q&&/^.*\*\/\s*$/.test(e))q=!1;else if(q){var h=e.replace(/^\s*(\*\s?)?/,"").replace(/\s*$/,""),k=h.match(/^\s*@([a-z]+)/);k?(k=k[1],h=_.trim(h.replace(/^\s*@[a-z]+\s*/,"")),"syntax"==k||"example"==k?n[k].push(h):"requires"==k?h.length&&_.each(h.split(/\s+/),function(e){n.requires[e]=1}):"param"==
k?n.params.push({name:h.replace(/\s.*$/,""),desc:h.replace(/^\S+\s+/,"")}):"return"==k?n.params.push({name:"@return",desc:h}):"function"==k?n.params[n.params.length-1].funcs.push(h):n[k]=""!=h?h:1):n.params.length?n.params[n.params.length-1].desc+="\n"+_.trim(h):n.example.length?n.example[n.example.length-1]+="\n"+h:n.desc+=h+"\n"}else/^\s*\/\*\$/.test(e)&&!/\*\/\s*$/.test(e)&&(q=!0,m.push(n),n=j());n.src.push(e)});m.push(n);return m}
function createSectionMap(e){var j={};_.each(e,function(e){j[e.id]=e});return j}function completeRequirements(e,j){var k=0;_.each(e,function(e){_.eachObj(e.requires,function(n){var q=j[n];if(!q)throw Error('Unknown id in requirement: "'+n+'"');_.eachObj(q.requires,function(j){e.requires[j]||(k++,e.requires[j]=1)})})});0<k?completeRequirements(e,j):_.each(e,function(e){_.eachObj(e.requires,function(k){j[k].requiredBy[e.id]=1})})}
function calculateDependencies(e,j){var k={};_.eachObj(j,function(m){j[m]&&(k[m]=1,_.eachObj(e[m].requires,function(e){k[e]=1}))});return k}function createDefaultConfigurationMap(e,j){var k={};_.each(e,function(e){if(e.configurable&&("default"==e.configurable||j))k[e.id]=1});return k}
function compile(e,j,k){var m="",n=calculateDependencies(j,k),q=[],u=!0;_.filter(e,function(e){return n[e.id]||!(e.configurable||e.dependency)}).each(function(e){_.each(e.src,function(e){if(/^\s*$/.test(e))u||(m+="\n"),u=!0;else{var h=e.match(/^(\s*)\/\/\s*@(cond|condblock)\s+(\!?)(\w*)\s*(.*)$/);if(h&&"cond"==h[2]&&!!n[h[4]]!=("!"==h[3]))m+=h[1]+h[5]+"\n";else if(h&&"condblock"==h[2])q.unshift(!!n[h[4]]!=("!"==h[3]));else if(q.length&&/^\s*\/\/\s*@condend(\s|$)/.test(e))q.shift();else if(0==q.length||
q[0])m+=e+"\n";u=!1}})});return m}function prepareSections(e){e=parseSourceSections(e);var j=createSectionMap(e);completeRequirements(e,j);var k=createDefaultConfigurationMap(e);return{sections:e,sectionMap:j,enabledSections:k}}var CONFIG_START="minified.js config start --",CONFIG_COMMENT="// - ",CONFIG_ALL="All sections.",CONFIG_ALL_EXCEPT="All sections except ",CONFIG_ONLY="Only sections ";
function serializeEnabledSections(e,j){var k=_.filter(e,function(e){return e.configurable}),m=_.filter(_.keys(j),function(e){return j[e]}),n,q=[];m.length==k.length?(n=CONFIG_COMMENT+CONFIG_ALL,q=[]):m.length/3>k.length/2?(n=CONFIG_COMMENT+CONFIG_ALL_EXCEPT,q=_.filter(k,function(e){return!j[e.id]}).collect(function(e){return e.id})):(n=CONFIG_COMMENT+CONFIG_ONLY,q=m);var u="// "+CONFIG_START+" use this comment to re-create configuration in the Builder\n"+n,h=50;_(q).sort().each(function(e){h<e.length?
(h=70,u+="\n// - "+e+", "):(u+=e+", ",h-=e.length+2)});return u=u.replace(/,\s*$/,".\n")}function fixConfig(e,j){_.eachObj(j,function(k){e[k]?_.copyObj(e[k].requires,j):delete j[k]});return j}
function deserializeEnabledSections(e,j,k){function m(e){return RegExp("^"+e.replace(/ /g,"\\s+"))}var n=m(CONFIG_START+".*"),q=m(CONFIG_ALL.replace(/\./,"\\.")),u=m(CONFIG_ALL_EXCEPT+"\\s*"),h=m(CONFIG_ONLY+"\\s*"),v=m(CONFIG_COMMENT);k=k.split("\n");for(var s=0;s<k.length;s++){var t=k[s];if(/^\s*\/\/s*/.test(t)&&(t=t.replace(/^\s*\/\/\s*/,""),n.test(t)&&s+1<k.length)){for(var t="",D=s+1;D<k.length;D++)if(v.test(k[D])){if(t+=k[D].replace(v,""),/\s*\.\s*$/.test(k[D]))break}else break;if(q.test(t))return createDefaultConfigurationMap(e,
!0);t=t.replace(/\s*\.\s*$/,"");if(u.test(t)){var w=createDefaultConfigurationMap(e,!0);_.each(t.replace(u,"").split(/\s*,\s*/),function(e){delete w[e]});return fixConfig(j,w)}if(h.test(t))return w={},_.each(t.replace(h,"").split(/\s*,\s*/),function(e){j[e]&&(w[e]=1)}),fixConfig(j,w)}}return null};var MINI=require("minified"),$=MINI.$,$$=MINI.$$,EE=MINI.EE,_=require("minifiedUtil")._,MAX_SIZE=4095,SRC="/minified-web-src.js",GROUPS="INTERNAL SELECTORS ELEMENT REQUEST JSON EVENTS COOKIE ANIMATION OPTIONS".split(" ");
function closureCompile(e,j,k){$.request("post","http://closure-compiler.appspot.com/compile",{js_code:e,output_format:"json",output_info:["compiled_code","statistics"],output_file_name:"minified-custom.js",compilation_level:j?"ADVANCED_OPTIMIZATIONS":"SIMPLE_OPTIMIZATIONS"}).then(function(e){k&&k($.parseJSON(e))},function(e,j,q){window.console&&console.log("error",e,j,q);k&&k(null)}).error(function(e){window.console&&console.log(e)})}
function setUpConfigurationUI(e){function j(){$(".modCheck").each(function(e){var j=0;$(".secCheck",e.parentNode.parentNode).each(function(e){e.checked&&j++});e.checked=0<j})}function k(h){var j=e.sectionMap[h.id.substr(4)];h.checked?_.eachObj(j.requires,function(e){$("#sec-"+e).set("checked",!0)}):_.eachObj(j.requiredBy,function(e){$("#sec-"+e).set("checked",!1)})}$("#compile").on("click",function(){var h={};$(".secCheck").each(function(e){e.checked&&(h[e.id.substr(4)]=1)});var j=compile(e.sections,
e.sectionMap,h),k=serializeEnabledSections(e.sections,h);if($$("#compressionAdvanced").checked)$$("#compile").disabled=!0,closureCompile(j,!0,function(e){$$("#compile").disabled=!1;$("#resultDiv").animate({$$slide:1});e?($("#gzipRow, #downloadRow").set({$display:"table-row"}),$$("#resultSrc").value=k+"\n"+e.compiledCode,$("#resultPlain").fill((e.statistics.compressedSize/1024).toFixed(2)+"kb ("+e.statistics.compressedSize+" bytes)"),$("#resultGzippedSize").fill((e.statistics.compressedGzipSize/1024).toFixed(2)+
"kb ("+e.statistics.compressedGzipSize+" bytes)"),$$("#resultLink").setAttribute("href","http://closure-compiler.appspot.com"+e.outputFilePath),$("#resultGzippedComment").set({$$fade:e.statistics.compressedGzipSize>MAX_SIZE?1:0})):alert("Google Closure Service not availble. Try again later.")});else try{$("#resultDiv").animate({$$slide:1}),$$("#resultSrc").value=k+j,$("#resultPlain").fill((j.length/1024).toFixed(2)+"kb"),$("#gzipRow, #downloadRow").set({$display:"none"})}catch(m){console.log(m)}return!1});
var m=$("#configSrcDiv").toggle({$$slide:0},{$$slide:1});$("#fromScratch").on("|click",m,[!1]);$("#loadConfig").on("|click",m,[!0]);$("#recreate").on("click",function(){try{var h=$$("#configSrc").value,k=deserializeEnabledSections(e.sections,e.sectionMap,h);k?(_.eachObj(e.sectionMap,function(e){var h=$$("#sec-"+e);h&&(h.checked=!!k[e])}),j()):alert("Can not find configuration in source.")}catch(m){console.log(m)}});$("#sectionCheckboxes").fill();for(var n=1;n<GROUPS.length;n++){var q;$("#sectionCheckboxes").add(q=
EE("div",{"@id":"divMod-"+n},EE("div",{className:"groupDescriptor"},[m=EE("input",{"@id":"mod-"+n,className:"modCheck","@type":"checkbox",checked:"checked"})(),EE("label",{"@for":"mod-"+n},GROUPS[n])]))());$(m).on("change",function(){var e=this.checked;$(".secCheck",this.parentNode.parentNode).each(function(j){j.checked=e;k(j)});j();return!0});var u;_.filter(e.sections,function(e){return e.group==GROUPS[n]&&e.configurable}).sort(function(e,j){var k=e.name||e.id,m=j.name||j.id;return k==m?0:k>m?1:
-1}).each(function(h){function m(j,h){var k=_.filter(_.keys(h),function(e){return!!h[e].name});if(!k.length)return null;var n=0,q=j;_.each(k,function(h){n++<Math.min(k.length,8)&&(1<n&&(q=n==Math.min(k.length,8)?q+" and ":q+", "),q=8==n&&8<k.length?q+"more":q+(e.sectionMap[h].name||e.sectionMap[h].id))});return q+="."}var n=m("Required by ",h.requiredBy),t=m("Requires ",h.requires);q.add(EE("div",{className:"sectionDescriptor"},[u=EE("input",{className:"secCheck","@type":"checkbox","@id":"sec-"+h.id,
checked:"default"==h.configurable?"checked":null})(),EE("label",{"@for":"sec-"+h.id},h.name||h.id),EE("div",{className:"requirements"},[n?[n,EE("br")]:null,t])]));$(u).on("change",function(){k(this);j();return!0})})}}$(function(){$.request("get",SRC,null).then(function(e){setUpConfigurationUI(prepareSections(e))}).error(function(e){window.console&&console.log(e)})});
